"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[912],{912:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(885),c=n(791),m="Comments_comments__VHHiX",r="NewCommentForm_form__12V43",o="NewCommentForm_control__TcHkp",a="NewCommentForm_actions__B1d7u",i=n(944),u=n(335),d=n(184),l=function(e){var t=(0,i.Z)(u.Ir),n=t.sendRequest,s=t.status,m=t.error,l=(0,c.useRef)(),f=e.onCommentAdd;(0,c.useEffect)((function(){f()}),[s,m,f]);var x=function(t){t.preventDefault();var s=l.current.value;n({quoteId:e.id,text:s}),l.current.value=""};return(0,d.jsxs)("form",{className:r,onSubmit:x,children:[(0,d.jsxs)("div",{className:o,onSubmit:x,children:[(0,d.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,d.jsx)("textarea",{id:"comment",rows:"5",ref:l})]}),(0,d.jsx)("div",{className:a,children:(0,d.jsx)("button",{className:"btn",type:"submit",children:"Add Comment"})})]})},f=n(556),x="CommentItem_item__xFD8k",_=function(e){return(0,d.jsx)("li",{className:x,children:(0,d.jsx)("p",{children:e.text})})},h="CommentsList_comments__n75t4",j=function(e){return(0,d.jsx)("ul",{className:h,children:e.comments.map((function(e,t){return(0,d.jsx)(_,{text:e.commentData},"".concat(e.id,"_").concat(t))}))})},C=n(739),p=function(){var e,t=(0,i.Z)(u.h_),n=t.sendRequest,r=t.status,o=t.data,a=t.error,x=(0,C.UO)(),_=x.id,h=(0,c.useState)(!1),p=(0,s.Z)(h,2),N=p[0],v=p[1];(0,c.useEffect)((function(){n(_)}),[n,_]);var b=(0,c.useCallback)((function(){n(_)}),[n,_]);return"pending"===r&&(e=(0,d.jsx)("div",{className:"centered",children:(0,d.jsx)(f.Z,{})})),a&&(e=(0,d.jsx)("p",{className:"centered",children:a})),"completed"!==r||o&&0!==o.length||(e=(0,d.jsx)("p",{className:"centered",children:"No comments"})),"completed"===r&&o&&o.length>0&&(e=(0,d.jsx)(j,{comments:o})),(0,d.jsxs)("section",{className:m,children:[(0,d.jsx)("h2",{children:"User Comments"}),!N&&(0,d.jsx)("button",{className:"btn",onClick:function(){v(!0)},children:"Add a Comment"}),N&&(0,d.jsx)(l,{id:x.id,onCommentAdd:b}),e]})}}}]);
//# sourceMappingURL=912.7a1c0468.chunk.js.map